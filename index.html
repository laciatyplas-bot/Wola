<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="ETERNIVERSE BOOK MASTER 2026 â€” Panel pisarski z 8 Å›wiatami i 10 bramami."/>
  <title>ETERNIVERSE Â· BOOK MASTER 2026</title>

  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-dark:#0a0a0f;
      --cyber:#28d3c6;
      --purple:#8b5cf6;
      --glass:rgba(255,255,255,.08);
      --glow:0 0 25px rgba(40,211,198,.4);
    }
    *{box-sizing:border-box;margin:0}
    body{
      font-family:Inter,sans-serif;
      background:linear-gradient(135deg,var(--bg-dark),#1a0d2e);
      color:#e2e8f0;
      min-height:100vh
    }
    header{
      position:sticky;top:0;z-index:10;
      background:rgba(10,10,15,.95);
      backdrop-filter:blur(20px);
      padding:1rem 2rem;
      border-bottom:1px solid rgba(40,211,198,.3)
    }
    .header-grid{
      max-width:1400px;margin:auto;
      display:grid;grid-template-columns:1fr auto 1fr;
      gap:2rem;align-items:center
    }
    .logo{
      font-family:Orbitron,monospace;
      font-size:2rem;
      background:linear-gradient(45deg,var(--cyber),var(--purple));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent
    }
    .world-selector{
      background:var(--glass);
      border:1px solid rgba(40,211,198,.3);
      border-radius:12px;padding:.5rem
    }
    .world-btn{
      background:none;border:none;color:inherit;
      padding:.5rem 1rem;border-radius:8px;
      cursor:pointer
    }
    .world-btn.active{background:var(--cyber);color:#000;box-shadow:var(--glow)}

    .tab-nav{
      display:flex;overflow-x:auto;
      background:rgba(0,0,0,.5);
      border-bottom:1px solid rgba(40,211,198,.2)
    }
    .tab-btn{
      background:none;border:none;color:inherit;
      padding:.75rem 1.5rem;
      cursor:pointer
    }
    .tab-btn.active{background:var(--cyber);color:#000}

    .main-container{
      max-width:1400px;margin:auto;padding:2rem;
      display:grid;grid-template-columns:280px 1fr;gap:2rem
    }
    .sidebar{
      background:var(--glass);
      border:1px solid rgba(40,211,198,.2);
      border-radius:16px;padding:1.25rem
    }
    .world-item{
      padding:.6rem;border-radius:8px;
      cursor:pointer;margin-bottom:.4rem
    }
    .world-item.active{background:var(--cyber);color:#000}

    .tab-content{display:none}
    .tab-content.active{display:block}

    .editor-area{
      background:rgba(0,0,0,.7);
      border:1px solid rgba(40,211,198,.3);
      border-radius:12px;
      padding:1.5rem;
      min-height:420px;
      font-family:Georgia,serif;
      line-height:1.7;
      outline:none
    }
  </style>
</head>

<body>

<header>
  <div class="header-grid">
    <div>
      <div class="logo">ETERNIVERSE</div>
      <small>BOOK MASTER 2026</small>
    </div>

    <div class="world-selector" id="worldSelector"></div>

    <div style="text-align:right">
      <span id="status">Autozapis aktywny</span>
    </div>
  </div>
</header>

<nav class="tab-nav">
  <button class="tab-btn active" data-tab="book">ðŸ“– KsiÄ…Å¼ka</button>
  <button class="tab-btn" data-tab="ai">ðŸ¤– AI</button>
</nav>

<div class="main-container">
  <aside class="sidebar" id="gateList"></aside>

  <section>
    <div id="bookTab" class="tab-content active">
      <h2 id="bookTitle"></h2>
      <div id="editor" class="editor-area" contenteditable="true"></div>
    </div>

    <div id="aiTab" class="tab-content">
      <div class="editor-area" id="aiOutput">
        AI gotowa. Komendy:
        <br>â€¢ add chapter
        <br>â€¢ generate plot
      </div>
      <input id="aiInput" placeholder="Komenda AIâ€¦" style="width:100%;margin-top:1rem;padding:.6rem">
    </div>
  </section>
</div>

<script>
/* ==============================
   STAN APLIKACJI
================================ */
let state = {
  world:1,
  gate:1,
  chapter:1
};

const WORLDS = 8;
const GATES = 10;

/* ==============================
   INICJALIZACJA
================================ */
function init(){
  renderWorlds();
  renderGates();
  bindTabs();
  loadContent();
  autoSave();
  updateTitle();
}

/* ==============================
   RENDER
================================ */
function renderWorlds(){
  const el = document.getElementById('worldSelector');
  el.innerHTML='';
  for(let i=1;i<=WORLDS;i++){
    const b=document.createElement('button');
    b.className='world-btn'+(i===state.world?' active':'');
    b.textContent='Åšwiat '+i;
    b.onclick=()=>switchWorld(i);
    el.appendChild(b);
  }
}

function renderGates(){
  const el=document.getElementById('gateList');
  el.innerHTML='<h3>ðŸšª Bramy</h3>';
  for(let i=1;i<=GATES;i++){
    const d=document.createElement('div');
    d.className='world-item'+(i===state.gate?' active':'');
    d.textContent='Brama '+i;
    d.onclick=()=>switchGate(i);
    el.appendChild(d);
  }
}

/* ==============================
   NAWIGACJA
================================ */
function switchWorld(w){
  state.world=w; state.gate=1;
  renderWorlds(); renderGates();
  loadContent(); updateTitle();
}
function switchGate(g){
  state.gate=g;
  renderGates(); loadContent(); updateTitle();
}
function bindTabs(){
  document.querySelectorAll('.tab-btn').forEach(b=>{
    b.onclick=()=>{
      document.querySelectorAll('.tab-btn').forEach(x=>x.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(x=>x.classList.remove('active'));
      b.classList.add('active');
      document.getElementById(b.dataset.tab+'Tab').classList.add('active');
    }
  });
}

/* ==============================
   CONTENT
================================ */
function key(){
  return `eter-w${state.world}b${state.gate}-ch${state.chapter}`;
}
function loadContent(){
  const txt=localStorage.getItem(key()) ||
    `Åšwiat ${state.world}, Brama ${state.gate}\n\nZacznij pisaÄ‡â€¦`;
  document.getElementById('editor').innerText=txt;
}
function autoSave(){
  setInterval(()=>{
    localStorage.setItem(key(),document.getElementById('editor').innerText);
    document.getElementById('status').textContent=
      'Zapisano '+new Date().toLocaleTimeString();
  },2000);
}
function updateTitle(){
  document.getElementById('bookTitle').textContent=
    `Åšwiat ${state.world} Â· Brama ${state.gate}`;
}

/* ==============================
   AI (DEMO)
================================ */
document.getElementById('aiInput').addEventListener('keydown',e=>{
  if(e.key==='Enter'){
    const out=document.getElementById('aiOutput');
    out.innerHTML+=`<br>[AI] ${e.target.value}`;
    e.target.value='';
  }
});

init();
</script>

</body>
</html>