<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BELLA PRO — TEST STABILNY</title>

<style>
body{
  margin:0;
  background:#000;
  color:#0ff;
  font-family:system-ui,sans-serif;
}
header{
  padding:14px;
  text-align:center;
  font-weight:900;
  border-bottom:2px solid #0ff;
}
textarea{
  width:100%;
  min-height:45vh;
  background:#111;
  color:#0ff;
  font-size:16px;
  padding:12px;
  border:none;
}
button{
  width:100%;
  padding:16px;
  margin-top:10px;
  font-size:18px;
  font-weight:900;
  background:#0ff;
  color:#000;
  border:none;
}
</style>
</head>

<body>

<header>BELLA PRO — GENERATOR ROZDZIAŁU</header>

<textarea id="book">
ROZDZIAŁ 1

To jest pierwszy rozdział książki.
</textarea>

<button onclick="bella()">BELLA PRO — NAPISZ KOLEJNY ROZDZIAŁ</button>

<script>
function bella(){
  const t=document.getElementById('book');
  const text=t.value.trim();

  const count=(text.match(/ROZDZIAŁ/g)||[]).length+1;

  const next=
`\n\nROZDZIAŁ ${count}

To nie jest kontynuacja przypadkowa.
To jest odpowiedź na to, co już zostało zapisane.
Decyzja zapadła wcześniej, zanim padło to zdanie.

[BELLA PRO — GENERACJA]\n`;

  t.value+=next;
}
</script>

</body>
</html>