<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="ETERNIVERSE BOOK MASTER 2026 â€” Panel pisarski z 8 Å›wiatami, 10 bramami, okÅ‚adkami, audiobookami i Bella AI."/>
  <title>ETERNIVERSE Â· BOOK MASTER 2026</title>

  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="favicon.ico">
  
  <style>
    :root {
      --bg-dark: #0a0a0f;
      --cyber-blue: #28d3c6;
      --neon-purple: #8b5cf6;
      --glass: rgba(255,255,255,0.08);
      --glow: 0 0 25px rgba(40,211,198,0.4);
    }

    * { box-sizing: border-box; margin: 0; }
    body { 
      font-family: 'Inter', sans-serif; 
      background: linear-gradient(135deg, var(--bg-dark), #1a0d2e);
      color: #e2e8f0;
      min-height: 100vh;
    }

    .header { 
      background: rgba(10,10,15,0.95); 
      backdrop-filter: blur(20px); 
      padding: 1rem 2rem; 
      border-bottom: 1px solid rgba(40,211,198,0.3);
      position: sticky; top: 0; z-index: 100;
    }

    .header-grid { display: grid; grid-template-columns: 1fr auto 1fr; gap: 2rem; align-items: center; max-width: 1400px; margin: 0 auto; }

    .logo { font-family: 'Orbitron', monospace; font-size: 2rem; background: linear-gradient(45deg, var(--cyber-blue), var(--neon-purple)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

    .world-selector { background: var(--glass); border: 1px solid rgba(40,211,198,0.3); border-radius: 12px; padding: 0.5rem; }
    .world-btn { background: none; border: none; color: inherit; padding: 0.5rem 1rem; border-radius: 8px; cursor: pointer; transition: all 0.3s; }
    .world-btn.active { background: var(--cyber-blue); box-shadow: var(--glow); }

    .tab-nav { 
      display: flex; 
      overflow-x: auto; 
      background: rgba(0,0,0,0.5); 
      border-bottom: 1px solid rgba(40,211,198,0.2);
      padding: 0.5rem 0;
      scrollbar-width: none; 
    }
    .tab-nav::-webkit-scrollbar { display: none; }
    .tab-btn { 
      background: none; border: none; color: inherit; 
      padding: 0.75rem 1.5rem; 
      white-space: nowrap; 
      cursor: pointer; 
      transition: all 0.3s;
      border-radius: 8px 8px 0 0;
      margin: 0 0.25rem;
    }
    .tab-btn.active { background: var(--cyber-blue); box-shadow: var(--glow); }

    .main-container { max-width: 1400px; margin: 0 auto; padding: 2rem; display: grid; grid-template-columns: 300px 1fr; gap: 2rem; }

    .sidebar { background: var(--glass); border-radius: 16px; padding: 1.5rem; height: fit-content; border: 1px solid rgba(40,211,198,0.2); }
    .world-list { max-height: 400px; overflow-y: auto; }
    .world-item { padding: 0.75rem; border-radius: 8px; cursor: pointer; margin-bottom: 0.5rem; transition: all 0.3s; }
    .world-item:hover { background: rgba(40,211,198,0.1); }
    .world-item.active { background: var(--cyber-blue); color: #000; }

    .tab-content { display: none; }
    .tab-content.active { display: block; }

    .book-editor { display: grid; grid-template-rows: auto 1fr auto; gap: 1rem; height: 70vh; }
    .chapters-panel { background: var(--glass); border-radius: 12px; padding: 1rem; max-height: 200px; overflow-y: auto; }
    .chapter-item { padding: 0.5rem; border-radius: 6px; cursor: pointer; margin-bottom: 0.25rem; }
    .chapter-item.active { background: var(--cyber-blue); }

    .editor-area { 
      background: rgba(0,0,0,0.7); 
      border: 1px solid rgba(40,211,198,0.3); 
      border-radius: 12px; 
      padding: 1.5rem; 
      font-family: 'Georgia', serif; 
      font-size: 1.1rem; 
      line-height: 1.7;
      min-height: 400px;
      outline: none;
      color: #f8fafc;
    }
    .editor-area:focus { box-shadow: var(--glow); }

    .cover-designer { display: grid; grid-template-columns: 1fr 400px; gap: 2rem; }
    .cover-canvas { 
      width: 100%; height: 500px; 
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
      border-radius: 12px; 
      position: relative;
      cursor: grab;
    }
    .cover-tools { background: var(--glass); padding: 1.5rem; border-radius: 12px; }

    .audiobook-panel { background: var(--glass); padding: 1.5rem; border-radius: 12px; }
    .audio-wave { height: 80px; background: linear-gradient(90deg, var(--cyber-blue), var(--neon-purple)); border-radius: 40px; margin: 1rem 0; }

    .bella-container { 
      grid-column: 1 / -1; 
      height: 600px; 
      border-radius: 20px; 
      overflow: hidden; 
      border: 2px solid rgba(40,211,198,0.5);
      box-shadow: var(--glow);
    }
    #bellaFrame { width: 100%; height: 100%; border: none; background: #000; }

    .ai-console { 
      background: rgba(0,0,0,0.9); 
      border: 1px solid var(--cyber-blue); 
      border-radius: 12px; 
      padding: 1rem; 
      font-family: 'Roboto Mono', monospace;
      font-size: 0.9rem;
    }
    .ai-input { 
      display: flex; gap: 0.5rem; margin-top: 1rem;
      input { flex: 1; background: rgba(255,255,255,0.1); border: 1px solid var(--cyber-blue); border-radius: 6px; padding: 0.5rem; color: inherit; }
      button { background: var(--cyber-blue); border: none; border-radius: 6px; padding: 0.5rem 1rem; cursor: pointer; }
    }

    @media (max-width: 768px) {
      .main-container { grid-template-columns: 1fr; padding: 1rem; }
      .header-grid { grid-template-columns: 1fr; text-align: center; gap: 1rem; }
      .cover-designer { grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>

<!-- HEADER -->
<header class="header">
  <div class="header-grid">
    <div>
      <h1 class="logo">ETERNIVERSE</h1>
      <span style="font-size: 0.8rem; opacity: 0.7;">BOOK MASTER 2026</span>
    </div>
    
    <div class="world-selector">
      <button class="world-btn active" data-world="1">ğŸŒŒ Åšwiat 1</button>
      <button class="world-btn" data-world="2">ğŸ”¥ Åšwiat 2</button>
      <button class="world-btn" data-world="3">ğŸŒŠ Åšwiat 3</button>
      <button class="world-btn" data-world="4">ğŸ”ï¸ Åšwiat 4</button>
      <button class="world-btn" data-world="5">âš¡ Åšwiat 5</button>
      <button class="world-btn" data-world="6">ğŸŒ‘ Åšwiat 6</button>
      <button class="world-btn" data-world="7">ğŸ’ Åšwiat 7</button>
      <button class="world-btn" data-world="8">â­ Åšwiat 8</button>
    </div>

    <div style="text-align: right;">
      <span id="status">Autozapis: aktywny</span>
      <button style="background: var(--cyber-blue); border: none; padding: 0.5rem 1rem; border-radius: 6px; margin-left: 1rem; cursor: pointer;">ğŸ’¾ Zapisz</button>
    </div>
  </div>
</header>

<!-- TABS -->
<nav class="tab-nav">
  <button class="tab-btn active" data-tab="book">ğŸ“– KsiÄ…Å¼ka</button>
  <button class="tab-btn" data-tab="chapters">ğŸ“‘ RozdziaÅ‚y</button>
  <button class="tab-btn" data-tab="cover">ğŸ–¼ï¸ OkÅ‚adka</button>
  <button class="tab-btn" data-tab="audio">ğŸ§ Audiobook</button>
  <button class="tab-btn" data-tab="bella">ğŸ§  Bella</button>
  <button class="tab-btn" data-tab="ai">ğŸ¤– AI Console</button>
</nav>

<!-- MAIN -->
<div class="main-container">
  <!-- SIDEBAR - 10 BRAM -->
  <div class="sidebar">
    <h3>ğŸšª 10 Bram Åšwiata</h3>
    <div class="world-list" id="bramyList">
      <div class="world-item active" data-brama="1">Brama 1: WstÄ™p</div>
      <div class="world-item" data-brama="2">Brama 2: Konflikt</div>
      <div class="world-item" data-brama="3">Brama 3: RozwÃ³j</div>
      <div class="world-item" data-brama="4">Brama 4: Punkt zwrotny</div>
      <div class="world-item" data-brama="5">Brama 5: Kulminacja</div>
      <div class="world-item" data-brama="6">Brama 6: Spadek</div>
      <div class="world-item" data-brama="7">Brama 7: RozwiÄ…zanie</div>
      <div class="world-item" data-brama="8">Brama 8: Epilog</div>
      <div class="world-item" data-brama="9">Brama 9: Bonus</div>
      <div class="world-item" data-brama="10">Brama 10: Tajemnica</div>
    </div>
  </div>

  <!-- TAB CONTENTS -->
  <div id="bookTab" class="tab-content active">
    <div class="book-editor">
      <div style="display: flex; justify-content: space-between; align-items: center;">
        <h2 id="bookTitle">TytuÅ‚ ksiÄ…Å¼ki - Åšwiat <span id="currentWorld">1</span> | Brama <span id="currentBrama">1</span></h2>
        <div>
          <button style="background: var(--neon-purple); border: none; padding: 0.5rem 1rem; border-radius: 6px; margin-right: 0.5rem; cursor: pointer;">â• Nowy rozdziaÅ‚</button>
          <button style="background: var(--cyber-blue); border: none; padding: 0.5rem 1rem; border-radius: 6px; cursor: pointer;">ğŸ™ï¸ TTS</button>
        </div>
      </div>
      
      <div class="chapters-panel">
        <h4>ğŸ“‘ RozdziaÅ‚y</h4>
        <div id="chaptersList">
          <div class="chapter-item active">RozdziaÅ‚ 1: PoczÄ…tek</div>
          <div class="chapter-item">RozdziaÅ‚ 2: Spotkanie</div>
          <div class="chapter-item">RozdziaÅ‚ 3: Konflikt</div>
        </div>
      </div>

      <div id="mainEditor" class="editor-area" contenteditable="true" spellcheck="false">
        Tutaj powstaje Twoja historia... Rozpocznij pisanie w wybranym Å›wiecie i bramie. Bella AI moÅ¼e pomÃ³c z fabuÅ‚Ä…, postaciami i dialogami.
      </div>
    </div>
  </div>

  <div id="chaptersTab" class="tab-content">
    <h2>ğŸ“‘ ZarzÄ…dzanie rozdziaÅ‚ami</h2>
    <p>Hierarchia rozdziaÅ‚Ã³w dla aktualnego Å›wiata i bramy. Drag & drop do zmiany kolejnoÅ›ci.</p>
  </div>

  <div id="coverTab" class="tab-content">
    <div class="cover-designer">
      <div class="cover-canvas" id="coverCanvas">
        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); text-align: center; color: white; font-size: 2rem; font-weight: 700;">
          OKÅADKA<br><small>PrzeciÄ…gnij aby obrÃ³ciÄ‡</small>
        </div>
      </div>
      <div class="cover-tools">
        <h4>ğŸ› ï¸ Edytor okÅ‚adki</h4>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
          <input type="color" id="bgColor" value="#667eea">
          <input type="color" id="textColor" value="#ffffff">
        </div>
        <button style="width: 100%; background: var(--cyber-blue); border: none; padding: 0.75rem; border-radius: 8px; cursor: pointer; margin-bottom: 1rem;">ğŸ¨ AI OkÅ‚adka</button>
        <button style="width: 100%; background: var(--neon-purple); border: none; padding: 0.75rem; border-radius: 8px; cursor: pointer;">ğŸ’¾ Zapisz PNG</button>
      </div>
    </div>
  </div>

  <div id="audioTab" class="tab-content">
    <div class="audiobook-panel">
      <h2>ğŸ§ Audiobook Studio</h2>
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
        <div>
          <h4 id="audioTitle">RozdziaÅ‚ 1 - Åšwiat 1</h4>
          <span id="audioDuration">00:00 / 12:34</span>
        </div>
        <div>
          <button style="background: var(--cyber-blue); border: none; padding: 0.5rem 1rem; border-radius: 6px; margin-right: 0.5rem;">â¹ï¸</button>
          <button style="background: var(--neon-purple); border: none; padding: 0.5rem 1rem; border-radius: 6px;">â–¶ï¸</button>
        </div>
      </div>
      <div class="audio-wave"></div>
      <button style="width: 100%; background: var(--cyber-blue); border: none; padding: 1rem; border-radius: 12px; cursor: pointer; font-size: 1.1rem;">ğŸ¤– TTS - Wygeneruj gÅ‚os</button>
    </div>
  </div>

  <div id="bellaTab" class="tab-content">
    <div class="bella-container">
      <iframe id="bellaFrame" src="bella.html" title="Bella AI - Twoja asystentka pisarska"></iframe>
    </div>
  </div>

  <div id="aiTab" class="tab-content">
    <h2>ğŸ¤– AI Console - Rozbudowa strony</h2>
    <div class="ai-console">
      <div id="aiOutput" style="min-height: 200px; overflow-y: auto; margin-bottom: 1rem; padding: 1rem; background: rgba(255,255,255,0.02); border-radius: 8px;">
        AI Console gotowa. Wpisz komendy:<br>
        â€¢ `add chapter "Nowy rozdziaÅ‚"` - dodaje rozdziaÅ‚<br>
        â€¢ `generate plot` - generuje fabuÅ‚Ä™<br>
        â€¢ `create cover cyberpunk` - tworzy okÅ‚adkÄ™<br>
        â€¢ `tts chapter 1` - generuje audio<br>
        â€¢ `expand world 3 brama 5` - rozbudowuje treÅ›Ä‡
      </div>
      <div class="ai-input">
        <input type="text" id="aiCommand" placeholder="Wpisz komendÄ™ AI...">
        <button onclick="executeAI()">â–¶ï¸ Wykonaj</button>
      </div>
    </div>
  </div>
</div>

<script>
  // WORLD & BRAMA SYSTEM
  let currentWorld = 1, currentBrama = 1;

  // World selector
  document.querySelectorAll('.world-btn').forEach(btn => {
    btn.onclick = () => {
      document.querySelectorAll('.world-btn').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      currentWorld = parseInt(btn.dataset.world);
      updateTitle();
      loadWorldContent();
    }
  });

  // Bramy selector
  document.querySelectorAll('.world-item').forEach(item => {
    item.onclick = () => {
      document.querySelectorAll('.world-item').forEach(i => i.classList.remove('active'));
      item.classList.add('active');
      currentBrama = parseInt(item.dataset.brama);
      updateTitle();
      loadBramaContent();
    }
  });

  function updateTitle() {
    document.getElementById('currentWorld').textContent = currentWorld;
    document.getElementById('currentBrama').textContent = currentBrama;
    document.getElementById('bookTitle').textContent = `TytuÅ‚ ksiÄ…Å¼ki - Åšwiat ${currentWorld} | Brama ${currentBrama}`;
  }

  // Tab system
  document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.onclick = () => {
      document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
      btn.classList.add('active');
      document.getElementById(btn.dataset.tab + 'Tab').classList.add('active');
    }
  });

  // Auto-save
  setInterval(() => {
    const content = document.getElementById('mainEditor').innerText;
    localStorage.setItem(`world${currentWorld}_brama${currentBrama}`, content);
    document.getElementById('status').textContent = `Zapisano: ${new Date().toLocaleTimeString()}`;
  }, 3000);

  // Load content
  function loadWorldContent() {
    const saved = localStorage.getItem(`world${currentWorld}_brama${currentBrama}`);
    document.getElementById('mainEditor').innerText = saved || 'Witaj w Åšwiecie ' + currentWorld + '! Rozpocznij pisanie...';
  }

  // AI Console
  function executeAI() {
    const cmd = document.getElementById('aiCommand').value.toLowerCase();
    const output = document.getElementById('aiOutput');
    
    if (cmd.includes('add chapter')) {
      const chapters = document.getElementById('chaptersList');
      const newChapter = document.createElement('div');
      newChapter.className = 'chapter-item';
      newChapter.textContent = 'Nowy rozdziaÅ‚';
      newChapter.onclick = () => chapters.querySelectorAll('.chapter-item').forEach(c => c.classList.remove('active'));
      newChapter.classList.add('active');
      chapters.appendChild(newChapter);
      output.innerHTML += `<div style="color: var(--cyber-blue);">[AI] Dodano nowy rozdziaÅ‚</div>`;
    }
    
    else if (cmd.includes('generate plot')) {
      output.innerHTML += `<div style="color: var(--neon-purple);">[AI] GenerujÄ™ fabuÅ‚Ä™ dla Åšwiat ${currentWorld}...</div>`;
      setTimeout(() => {
        document.getElementById('mainEditor').innerText += '

[AI GENEROWANA FABUÅA]
W Åšwiecie ' + currentWorld + ' rozpoczyna siÄ™ wielka przygoda...';
      }, 1000);
    }
    
    else {
      output.innerHTML += `<div style="color: orange;">[AI] Nieznana komenda: ${cmd}</div>`;
    }
    
    document.getElementById('aiCommand').value = '';
    output.scrollTop = output.scrollHeight;
  }

  // Cover rotation
  let coverRotation = 0;
  const cover = document.getElementById('coverCanvas');
  cover.onmousedown = () => {
    const onMove = (e) => {
      coverRotation += e.movementX * 0.5;
      cover.style.transform = `rotateY(${coverRotation}deg)`;
    };
    document.addEventListener('mousemove', onMove);
    document.onmouseup = () => document.removeEventListener('mousemove', onMove);
  };

  // Color pickers
  document.getElementById('bgColor').onchange = (e) => {
    cover.style.background = e.target.value;
  };

  // TTS Demo
  document.querySelector('[onclick*="TTS"]').onclick = () => {
    const utterance = new SpeechSynthesisUtterance('Bella czyta twÃ³j rozdziaÅ‚. Tekst do gÅ‚osu gotowy!');
    utterance.lang = 'pl-PL';
    speechSynthesis.speak(utterance);
  };

  // Init
  updateTitle();
  loadWorldContent();
</script>

</body>
</html>